<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Calendario de Adviento</title>

<style>
    body {
        font-family: "Segoe UI", sans-serif;
        background: linear-gradient(#1df7ff, #e6faff);
        margin: 0;
        padding: 0;
        text-align: center;
    }

    h1 {
        margin-top: 30px;
        font-size: 2rem;
        color: #0176e3;
    }

    /* Grid */
    .grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 25px;
        max-width: 600px;
        margin: 40px auto;
        padding: 20px;
    }

    .box {
        perspective: 800px;
        cursor: pointer;
    }

    .box-inner {
        width: 100%;
        height: 110px;
        position: relative;
        transform-style: preserve-3d;
        transition: transform 0.7s;
    }

    .open .box-inner {
        transform: rotateX(-180deg);
    }

    .box-front, .box-back {
        position: absolute;
        width: 100%;
        height: 100%;
        backface-visibility: hidden;
        border-radius: 12px;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 12px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.15);
        font-weight: bold;
        text-align: center;
    }

    .box-front {
        background: rgb(196, 241, 174);
        font-size: 2rem;
        color: #4b61e0;
    }

    .box-back {
        background: #fff3f6;
        color: #13bec4;
        transform: rotateX(180deg);
        font-size: 0.95rem;
        line-height: 1.3rem;
    }

    .reset-btn {
        margin-top: 20px;
        margin-bottom: 40px;
        background: #0010a0;
        padding: 12px 25px;
        color: white;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-size: 1rem;
    }

    /* PANTALLA FINAL */
    .final-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.65);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 999;
        padding: 20px;
    }

    .final-card {
        background: #eaf2ff;
        width: 90%;
        max-width: 420px;
        padding: 30px;
        border-radius: 15px;
        text-align: center;
        box-shadow: 0 0 15px rgba(0,0,0,0.25);
        animation: pop 0.6s ease;
        position: relative;
        overflow: hidden;
    }

    @keyframes pop {
        0% { transform: scale(0.6); opacity: 0; }
        100% { transform: scale(1); opacity: 1; }
    }

    .final-card h2 {
        color: #0010a0;
        margin-bottom: 15px;
    }

    .final-card p {
        font-size: 1.05rem;
        color: #333;
        margin-bottom: 20px;
        line-height: 1.4rem;
        position: relative;
        z-index: 10;
    }

    .btn-final {
        background: #0010a0;
        color: white;
        padding: 12px 18px;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        margin: 8px;
        font-size: 1rem;
        position: relative;
        z-index: 10;
    }

    /* SEGUNDO MODAL */
    .love-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.65);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 2000;
        padding: 20px;
    }

    .love-card {
        background: white;
        width: 90%;
        max-width: 420px;
        padding: 30px;
        border-radius: 15px;
        text-align: center;
        box-shadow: 0 0 15px rgba(0,0,0,0.25);
        animation: pop 0.6s ease;
    }

    .love-card h2 {
        color: #1000a0;
        margin-bottom: 12px;
    }

    .close-btn {
        background: #0010a0;
        color: white;
        padding: 10px 18px;
        border: none;
        margin-top: 18px;
        border-radius: 10px;
        cursor: pointer;
        font-size: 1rem;
    }

    /* CONFETI */
    .confetti {
        position: fixed;
        width: 10px;
        height: 10px;
        background: rgb(255, 107, 129);
        top: -10px;
        animation: fall 2.5s linear forwards;
        opacity: 0.8;
        z-index: 3000;
    }

    @keyframes fall {
        to {
            transform: translateY(120vh) rotateZ(360deg);
        }
    }

    /* ORQU√çDEAS AZULES */
    .orchid-container {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        overflow: hidden;
        z-index: 1;
    }

    .orchid {
        position: absolute;
        font-size: 30px;
        animation: orchidFall linear infinite;
        opacity: 0.9;
    }

    @keyframes orchidFall {
        0% {
            transform: translateY(-10%) rotate(0deg);
            opacity: 0.9;
        }
        100% {
            transform: translateY(120%) rotate(45deg);
            opacity: 0;
        }
    }

    /* NIEVE */
    .snowflake {
        position: fixed;
        top: -10px;
        color: white;
        font-size: 0.8rem;
        pointer-events: none;
        user-select: none;
        animation: snowFall linear infinite;
        opacity: 0.9;
        z-index: 5000;
    }

    @keyframes snowFall {
        0% {
            transform: translateY(-10vh) rotate(0deg);
        }
        100% {
            transform: translateY(110vh) rotate(360deg);
        }
    }

</style>
</head>

<body>

<h1>Calendario de adviento</h1>

<div class="grid" id="calendar"></div>

<button class="reset-btn" onclick="volverInicio()">Volver al inicio</button>
<button class="reset-btn" onclick="resetCalendar()">Reiniciar calendario</button>

<!-- PANTALLA FINAL -->
<div class="final-overlay" id="finalScreen">
    <div class="final-card">

        <!-- ORQU√çDEAS -->
        <div class="orchid-container" id="orchids"></div>

        <p>
            <strong>"Mejor son dos que uno‚Ä¶ porque si uno cae, el otro lo levanta."<br>
            ‚Äì Eclesiast√©s 4:9</strong>
        </p>

        <p>
            Y ahora que llegaste al final‚Ä¶<br><br>
            üíö ¬øQuieres ser mi novia? üíô
        </p>

        <button class="btn-final" onclick="sayYes()">S√≠</button>
        <button class="btn-final" onclick="sayYes()">Tambi√©n s√≠</button>
    </div>
</div>

<!-- SEGUNDO MODAL -->
<div class="love-overlay" id="loveScreen">
    <div class="love-card" id="loveCard">
        <h2>Un vers√≠culo bonito...</h2>
        <p id="verseText"></p>
        <p>üíö Siempre juntos. üíô</p>
        <button class="close-btn" onclick="closeLove()">Cerrar</button>
    </div>
</div>

<script>
/* Recompensas */
const rewards = {
    1: "Comer en Hi Tea (u otro lugar llamativo).",
    2: "Producto de skincare o maquillaje que te guste.",
    3: "Una pel√≠cula juntos.",
    4: "Una cita.",
    5: "Chocolates tur√≠n.",
    6: "Tu dulce favorito.",
    7: "Chicles.",
    8: "Muchos abrazos.",
    9: "Muchos besos.",
    10:"üíö Nuestra boda üíô",
    11:"Una vida juntos.",
    12:"Calendario de adviento real que t√∫ quieras. üíô"
};

/* Vers√≠culos adicionales */
const verses = [
    "‚ÄúEl amor es paciente, es bondadoso‚Ä¶ todo lo cree, todo lo espera, todo lo soporta.‚Äù ‚Äì 1 Corintios 13:4-7",
    "‚ÄúPonme como un sello sobre tu coraz√≥n‚Ä¶ porque fuerte es como la muerte el amor.‚Äù ‚Äì Cantares 8:6",
    "‚ÄúEl que halla esposa halla el bien, y alcanza la benevolencia de Jehov√°.‚Äù ‚Äì Proverbios 18:22",
    "‚ÄúEn el amor no hay temor, sino que el perfecto amor echa fuera el temor.‚Äù ‚Äì 1 Juan 4:18",
    "‚ÄúA donde t√∫ vayas, yo ir√©‚Ä¶ tu pueblo ser√° mi pueblo, y tu Dios mi Dios.‚Äù ‚Äì Rut 1:16",
];

const calendar = document.getElementById("calendar");

for (let i = 1; i <= 12; i++) {
    const box = document.createElement("div");
    box.classList.add("box");
    box.setAttribute("data-day", i);

    box.innerHTML = `
        <div class="box-inner">
            <div class="box-front">${i}</div>
            <div class="box-back">${rewards[i]}</div>
        </div>
    `;

    box.addEventListener("click", () => {
        box.classList.add("open");
        checkIfFinished();
    });

    calendar.appendChild(box);
}

function resetCalendar() {
    document.querySelectorAll(".box").forEach(b => b.classList.remove("open"));
    document.getElementById("finalScreen").style.display = "none";
    document.getElementById("loveScreen").style.display = "none";
}

function checkIfFinished() {
    const opened = document.querySelectorAll(".box.open").length;
    if (opened === 12) {
        setTimeout(() => {
            document.getElementById("finalScreen").style.display = "flex";
            lanzarOrquideas();
        }, 700);
    }
}

/* CONFETI */
function launchConfetti() {
    for (let i = 0; i < 60; i++) {
        const c = document.createElement("div");
        c.classList.add("confetti");
        c.style.left = Math.random() * window.innerWidth + "px";
        c.style.background = `hsl(${Math.random() * 360}, 90%, 65%)`;
        c.style.animationDuration = 2 + Math.random() * 1.5 + "s";
        document.body.appendChild(c);
        setTimeout(() => c.remove(), 3500);
    }
}

/* ORQU√çDEAS AZULES */
function lanzarOrquideas() {
    const container = document.getElementById("orchids");
    container.innerHTML = ""; 

    for (let i = 0; i < 18; i++) {
        let o = document.createElement("div");
        o.classList.add("orchid");
        o.textContent = "üå∫"; 
        o.style.color = "#4b9cff"; 
        o.style.left = Math.random() * 100 + "%";
        o.style.fontSize = (22 + Math.random() * 18) + "px";
        o.style.animationDuration = (4 + Math.random() * 6) + "s";
        o.style.animationDelay = (Math.random() * 4) + "s";
        container.appendChild(o);
    }
}

/* BOT√ìN 'S√ç' */
function sayYes() {
    document.getElementById("finalScreen").style.display = "none";

    launchConfetti();

    const verse = verses[Math.floor(Math.random() * verses.length)];
    document.getElementById("verseText").innerHTML = `<strong>${verse}</strong>`;

    setTimeout(() => {
        document.getElementById("loveScreen").style.display = "flex";
    }, 800);
}

function closeLove() {
    document.getElementById("loveScreen").style.display = "none";
}

function volverInicio() {
    window.location.href = "index.html";
}

/* NIEVE */
function startSnow() {
    setInterval(() => {
        const snow = document.createElement("div");
        snow.classList.add("snowflake");
        snow.textContent = "‚ùÑ";

        snow.style.left = Math.random() * 100 + "vw";
        snow.style.fontSize = (10 + Math.random() * 15) + "px";
        snow.style.animationDuration = (4 + Math.random() * 4) + "s";

        document.body.appendChild(snow);

        setTimeout(() => snow.remove(), 9000);
    }, 150);
}

startSnow();

</script>

</body>
</html>
